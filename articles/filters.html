<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="edeaR">
<title>Filters • edeaR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filters">
<meta property="og:description" content="edeaR">
<meta property="og:image" content="https://bupaverse.github.io/edeaR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">edeaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/filters.html">Filters</a>
    <a class="dropdown-item" href="../articles/metrics.html">Metrics</a>
    <a class="dropdown-item" href="../articles/queue.html">Queue Analysis</a>
    <a class="dropdown-item" href="../articles/work_schedules.html">Performance with work schedules</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://bupar.net/2022/07/27/bupar-0-5-0-whats-new/">edeaR 0.9.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bupaverse/edeaR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Filters</h1>
                        <h4 data-toc-skip class="author">Gert
Janssenswillen</h4>
            
            <h4 data-toc-skip class="date">2023-02-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bupaverse/edeaR/blob/HEAD/vignettes/filters.Rmd" class="external-link"><code>vignettes/filters.Rmd</code></a></small>
      <div class="d-none name"><code>filters.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bupar.net/" class="external-link">bupaR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bupar.net/" class="external-link">edeaR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bupar.net/" class="external-link">eventdataR</a></span><span class="op">)</span></span></code></pre></div>
<p>The filters for event data subsetting can mostly be divided into two
type: event filters and case filters. Event filters will subset
<em>parts</em> of cases based on criteria applied on the events
(e.g. the resource which performed it), while case filters will subset
complete cases, based on criteria applied on the cases (e.g. the trace
length).</p>
<p>Each filter has a <em>reverse</em> argument, which allows to reverse
the filter very easily. Furthermore, each filter has an
interface-alternative, which can be called by adding a <em>i</em> before
the function name.</p>
<div class="section level2">
<h2 id="event-filters">Event filters<a class="anchor" aria-label="anchor" href="#event-filters"></a>
</h2>
<div class="section level3">
<h3 id="filter-activities">Filter activities<a class="anchor" aria-label="anchor" href="#filter-activities"></a>
</h3>
<p>The filter activity function can be used to filter activities by
name. It has three arguments</p>
<ul>
<li>the event log</li>
<li>a vector of activities</li>
<li>the reverse argument (FALSE or TRUE)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patients</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/filter_activity.html">filter_activity</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X-Ray"</span>, <span class="st">"Blood test"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="va">summary</span></span></code></pre></div>
<pre><code><span><span class="co">## Number of events:  996</span></span>
<span><span class="co">## Number of cases:  498</span></span>
<span><span class="co">## Number of traces:  2</span></span>
<span><span class="co">## Number of distinct activities:  2</span></span>
<span><span class="co">## Average trace length:  2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Start eventlog:  2017-01-05 08:59:04</span></span>
<span><span class="co">## End eventlog:  2018-05-05 01:34:30</span></span></code></pre>
<pre><code><span><span class="co">##                   handling     patient          employee handling_id       </span></span>
<span><span class="co">##  Blood test           :474   Length:996         r1:  0   Length:996        </span></span>
<span><span class="co">##  Check-out            :  0   Class :character   r2:  0   Class :character  </span></span>
<span><span class="co">##  Discuss Results      :  0   Mode  :character   r3:474   Mode  :character  </span></span>
<span><span class="co">##  MRI SCAN             :  0                      r4:  0                     </span></span>
<span><span class="co">##  Registration         :  0                      r5:522                     </span></span>
<span><span class="co">##  Triage and Assessment:  0                      r6:  0                     </span></span>
<span><span class="co">##  X-Ray                :522                      r7:  0                     </span></span>
<span><span class="co">##  registration_type      time                            .order     </span></span>
<span><span class="co">##  complete:498      Min.   :2017-01-05 08:59:04.00   Min.   :  1.0  </span></span>
<span><span class="co">##  start   :498      1st Qu.:2017-05-06 12:31:43.00   1st Qu.:249.8  </span></span>
<span><span class="co">##                    Median :2017-09-08 00:10:11.00   Median :498.5  </span></span>
<span><span class="co">##                    Mean   :2017-09-03 07:11:55.96   Mean   :498.5  </span></span>
<span><span class="co">##                    3rd Qu.:2017-12-23 02:06:20.50   3rd Qu.:747.2  </span></span>
<span><span class="co">##                    Max.   :2018-05-05 01:34:30.00   Max.   :996.0  </span></span>
<span><span class="co">## </span></span></code></pre>
<p>As one can see, there are only 2 distinct activities left in the
event log.</p>
</div>
<div class="section level3">
<h3 id="filter-on-activity-frequency">Filter on activity frequency<a class="anchor" aria-label="anchor" href="#filter-on-activity-frequency"></a>
</h3>
<p>It is also possible to filter on activity frequency. This filter uses
a percentile cut off, and will look at those activities which are most
frequent until the required percentage of events has been reached. Thus,
a percentile cut off of 80% will look at the activities needed to
represent 80% of the events. In the example below, the
<strong>least</strong> frequent activities covering 50% of the event log
are selected, since the reverse argument is true.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patients</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/filter_activity_frequency.html">filter_activity_frequency</a></span><span class="op">(</span>percentage <span class="op">=</span> <span class="fl">0.5</span>, reverse <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/activity_frequency.html">activity_frequency</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">##   handling   absolute relative</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Check-out       492    0.401</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> X-Ray           261    0.213</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> Blood test      237    0.193</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> MRI SCAN        236    0.192</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="filter-on-attributes">Filter on attributes<a class="anchor" aria-label="anchor" href="#filter-on-attributes"></a>
</h3>
<p>The filter_attributes function is a very generic function an can be
supplied with conditions on the data set, in the same way as the
<code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter</a></code> function. As such, it allows you to filter on
event or case attributes. Multiple conditions can be listed, separated
by a comma. In that case, the comma will be treated as “and”. You can
use the |-symbol to state “OR”. Since the patients dataset does not have
many additional attributes, the example below uses the resource and
activity. This filter is thus the same as the combination of
filter_activity and filter_resource, in case both conditions were
required. However, it has the advantange of stating both conditions as
OR.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patients</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://bupaverse.github.io/bupaR/reference/filter_attributes.html" class="external-link">filter_attributes</a></span><span class="op">(</span><span class="va">employee</span> <span class="op">==</span> <span class="st">"r1"</span> <span class="op">|</span> <span class="va">handling</span> <span class="op">==</span> <span class="st">"X-Ray"</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Warning: `filter_attributes()` was deprecated in bupaR 0.5.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use `filter()` instead.</span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #949494;"># Log of</span> <span style="color: #949494;">1522</span> <span style="color: #949494;">events</span> <span style="color: #949494;">consisting of:</span></span></span>
<span><span class="co"><span style="color: #949494;">## </span>2 traces </span></span>
<span><span class="co">## 500 cases </span></span>
<span><span class="co">## 761 instances of 2 activities </span></span>
<span><span class="co">## 2 resources </span></span>
<span><span class="co">## Events occurred from 2017-01-02 11:41:53 until 2018-05-05 01:34:30 </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## <span style="color: #949494;"># Variables were mapped as follows:</span></span></span>
<span><span class="co"><span style="color: #949494;">## </span>Case identifier:        patient </span></span>
<span><span class="co">## Activity identifier:     handling </span></span>
<span><span class="co">## Resource identifier:     employee </span></span>
<span><span class="co">## Activity instance identifier:    handling_id </span></span>
<span><span class="co">## Timestamp:           time </span></span>
<span><span class="co">## Lifecycle transition:        registration_type </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 1,522 × 7</span></span></span>
<span><span class="co">##    handling     patient employee handling_id regist…¹ time                .order</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Registration 1       r1       1           start    2017-01-02 <span style="color: #949494;">11:41:53</span>      1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Registration 2       r1       2           start    2017-01-02 <span style="color: #949494;">11:41:53</span>      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Registration 3       r1       3           start    2017-01-04 <span style="color: #949494;">01:34:05</span>      3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Registration 4       r1       4           start    2017-01-04 <span style="color: #949494;">01:34:04</span>      4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Registration 5       r1       5           start    2017-01-04 <span style="color: #949494;">16:07:47</span>      5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Registration 6       r1       6           start    2017-01-04 <span style="color: #949494;">16:07:47</span>      6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Registration 7       r1       7           start    2017-01-05 <span style="color: #949494;">04:56:11</span>      7</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Registration 8       r1       8           start    2017-01-05 <span style="color: #949494;">04:56:11</span>      8</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Registration 9       r1       9           start    2017-01-06 <span style="color: #949494;">05:58:54</span>      9</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Registration 10      r1       10          start    2017-01-06 <span style="color: #949494;">05:58:54</span>     10</span></span>
<span><span class="co">## <span style="color: #949494;"># … with 1,512 more rows, and abbreviated variable name ¹​registration_type</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="filter-resources">Filter resources<a class="anchor" aria-label="anchor" href="#filter-resources"></a>
</h3>
<p>Similar to the activity filter, the resource filter can be used to
filter events by listing on or more resources.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patients</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/filter_resource.html">filter_resource</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"r1"</span>,<span class="st">"r4"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/resource_frequency.html">resource_frequency</a></span><span class="op">(</span><span class="st">"resource"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">##   employee absolute relative</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> r1            500    0.679</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> r4            236    0.321</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="trim-cases">Trim cases<a class="anchor" aria-label="anchor" href="#trim-cases"></a>
</h3>
<p>The trim filter is a special event filter, as it also take into
account the notion of cases. In fact, it <em>trim</em> cases such that
they start with a certain activities until they end with a certain
activity. It requires two list: one for possible start activities and
one for end activities. The cases will be trimmed from the first
appearance of a start activity till the last appearance of an end
activity. When reversed, these <em>slices</em> of the event log will be
removed instead of preserved.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patients</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/filter_trim.html">filter_trim</a></span><span class="op">(</span>start_activities <span class="op">=</span> <span class="st">"Registration"</span>, end_activities <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MRI SCAN"</span>,<span class="st">"X-Ray"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://bupaverse.github.io/bupaR/reference/traces.html" class="external-link">traces</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">##   trace                                                  absolute_freq…¹ relat…²</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> Registration,Triage and Assessment,X-Ray                           261   0.525</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> Registration,Triage and Assessment,Blood test,MRI SCAN             236   0.475</span></span>
<span><span class="co">## <span style="color: #949494;"># … with abbreviated variable names ¹​absolute_frequency, ²​relative_frequency</span></span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="case-filters">Case filters<a class="anchor" aria-label="anchor" href="#case-filters"></a>
</h2>
<div class="section level4">
<h4 id="filter-activity-presence">Filter activity presence<a class="anchor" aria-label="anchor" href="#filter-activity-presence"></a>
</h4>
<p>This functions allows to filter cases that contain certain
activities. It requires as input a vector containing one or more
activity labels and it has a <code>method</code> argument. The latter
can have the values <em>all</em>, <em>none</em> or <em>one_of</em>. When
set to <em>all</em>, it means that all the specified activity labels
must be present for a case to be selected, <em>none</em> means that they
are not allowed to be present, and <em>one_of</em> means that at least
one of them must be present.</p>
</div>
<div class="section level4">
<h4 id="filter-case">Filter case<a class="anchor" aria-label="anchor" href="#filter-case"></a>
</h4>
<p>The case filter allows to subset a set of case identifiers. As
arguments it only requires a vector of case id’s. The selection can also
be negated using <code>reverse = T</code>.</p>
</div>
<div class="section level4">
<h4 id="filter-end-points">Filter end points<a class="anchor" aria-label="anchor" href="#filter-end-points"></a>
</h4>
<p>The <code>filter_endpoints</code> method filters cases based on the
first and last activity label. It can be used in two ways: by specifying
vectors with allowed start activities and/or allowed end activities, or
by specifying a percentile. In the latter case, the percentile value
will be used as a cut off. For example, when set to 0.9, it will select
the most common endpoint pairs which together cover at least 90% of the
cases, and filter the event log accordingly. This filter can also be
reversed.</p>
</div>
<div class="section level4">
<h4 id="filter-precedence">Filter precedence<a class="anchor" aria-label="anchor" href="#filter-precedence"></a>
</h4>
<p>In order to extract a subset of an event log which conforms with a
set of precedence rules, one can use the <code>filter_precedence</code>
method. There are two types of precendence relations which can be
tested: activities that should <em>directly follow</em> each other, or
activities that should <em>eventually follow</em> each other. The type
can be set with the <em>precedence_type</em> argument. Further, the
filter requires a vector of one or more antecedents (containing activity
labels), and one or more consequents. Finally, also a
<em>filter_method</em> argument can be set. This argument is relevant
when there is more than one antecedent or consequent. In such a case,
you can specify that all possible precedence combinations must be
present (<em>all</em>), or at least one of them (_one_of).</p>
</div>
<div class="section level4">
<h4 id="filter-processing-time-throughput-time-and-trace-length">Filter processing time, throughput time and trace length<a class="anchor" aria-label="anchor" href="#filter-processing-time-throughput-time-and-trace-length"></a>
</h4>
<p>There are three different filters which take into account the
<em>length</em> of a case:</p>
<ul>
<li>processing time: which is the sum of the duration of the activity
instances contained in the case.</li>
<li>throughput time: which is the time between the first event and the
last event of the case.</li>
<li>trace length: which is the number of activity instances contained in
the case.</li>
</ul>
<p>Each of these filters can work in two ways, similar to the endpoints
filter: either by using an interval or by using a percentile cut off.
The percentile cut off will always start with the shortest cases first
and stop including cases when the specified percentile is reached. The
processing and throughput time filters also have a <em>units</em>
attribute to specify the time unit used when defining an interval. All
the methods can be reversed by setting <code>reverse = T</code>.</p>
</div>
<div class="section level4">
<h4 id="filter-time-period">Filter time period<a class="anchor" aria-label="anchor" href="#filter-time-period"></a>
</h4>
<p>Cases can also be filtered by supplying a time window to the method
<code>filter_time_period</code>. There are four different filter
methods, of which one can be used as argument:</p>
<ul>
<li>contained: retains all cases which are completely contained in the
time period.</li>
<li>start: retains the cases which started in the time period,
regardless of their end point.</li>
<li>complete: retains the cases which were completed in the time period,
regardless of their starting point.</li>
<li>intersecting: retains the cases which have at least one event within
the time period.</li>
</ul>
<p>The selection can also be reversed. Note that there is a 5 filter
method, <em>trim</em>, but this is actually an event filter and will
thus be discussed in the next section.</p>
</div>
<div class="section level4">
<h4 id="filter-trace-frequency">Filter trace frequency<a class="anchor" aria-label="anchor" href="#filter-trace-frequency"></a>
</h4>
<p>The last case filter can be used to filter cases based on the
frequency of the corresponding trace. A trace is a sequence of activity
labels, and will be discussed in more detail in Section <span class="math inline">\(\ref{mining-and-analysis-1}\)</span>. There are
again two ways to select cases based on trace frequency, by interval or
by percentile cut off. The percentile cut off will start with the most
frequent traces. This filter also contains the reverse argument.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Gert Janssenswillen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
